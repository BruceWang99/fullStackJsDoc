## 图片优化

### 懒加载

- 原理

	- 使用HTML的data-xx存储图片的Src, 按需加载
	- 根据浏览器的可视区域高度、浏览器滚动过的高度, 元素距文档顶部的距离加载

		- innerHeight
		- scrollTop
		- offsetTop

### 预加载

- 原理

	- 隐藏在 css 的 background 的 url 属性里面
	- 提前new Image 加载图片

### 常见的图片格式及使用场景

- JPEG/JPG

	- 有损压缩
	- 大小较小

- PNG-8/PNG-24

	- 无损压缩、支持透明度
	- 需要透明

- GIF

	- 无损压缩、支持透明度
	- 动画

- SVG

	- 无损压缩、支持透明度、矢量图
	- 简单图形(icon)、缩放
	- 渲染成本高

- base64

	- 依赖编码，转码后体积反而会变大

- iconfont

	- 颜色可控
	-   大小可缩放

- WebP

	- 浏览器兼容性，检测浏览器不支持的情况退化到jpg

### 选择图片优化

- 尽可能减少不必要的图片请求
- 选择合适的图片类型和尺寸
- 要压缩图片
- 删除图片的元信息

### 图片压缩、雪碧图、字体图标、base64图片、CDN图片

*XMind: ZEN - Trial Version*